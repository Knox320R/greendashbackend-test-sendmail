'use strict';

const bcrypt = require('bcryptjs');
const crypto = require('crypto');

module.exports = {
  up: async (queryInterface, Sequelize) => {
    const saltRounds = 12;
    const hashedPassword = await bcrypt.hash('aaa', saltRounds);
    
    const users = [
      // Admin users
      {
        email: 'admin@greendash.io',
        password: hashedPassword,
        first_name: 'GreenDash',
        last_name: 'Admin',
        phone: '+1234567890',
        wallet_address: '0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6',
        referral_code: 'ADMIN001',
        referred_by: null,
        referral_level: 0,
        egd_balance: 50000.00000000,
        usdt_balance: 25000.00000000,
        total_invested: 100000.00000000,
        total_earned: 15000.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: true,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'United States',
        city: 'New York',
        timezone: 'EST',
        language: 'en',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-01'),
        updated_at: new Date()
      },
      {
        email: 'support@greendash.io',
        password: hashedPassword,
        first_name: 'Support',
        last_name: 'Team',
        phone: '+1234567891',
        wallet_address: '0x8ba1f109551bD432803012645Hac136c772c3c3',
        referral_code: 'SUPPORT1',
        referred_by: null,
        referral_level: 0,
        egd_balance: 10000.00000000,
        usdt_balance: 5000.00000000,
        total_invested: 25000.00000000,
        total_earned: 3000.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: true,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'United States',
        city: 'Los Angeles',
        timezone: 'PST',
        language: 'en',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-02'),
        updated_at: new Date()
      },
      
      // Top referrers (Level 1)
      {
        email: 'john.doe@example.com',
        password: hashedPassword,
        first_name: 'John',
        last_name: 'Doe',
        phone: '+1234567892',
        wallet_address: '0x1234567890123456789012345678901234567890',
        referral_code: 'JOHN001',
        referred_by: 'ADMIN001',
        referral_level: 1,
        egd_balance: 25000.00000000,
        usdt_balance: 15000.00000000,
        total_invested: 75000.00000000,
        total_earned: 12000.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Canada',
        city: 'Toronto',
        timezone: 'EST',
        language: 'en',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-03'),
        updated_at: new Date()
      },
      {
        email: 'sarah.wilson@example.com',
        password: hashedPassword,
        first_name: 'Sarah',
        last_name: 'Wilson',
        phone: '+1234567893',
        wallet_address: '0x2345678901234567890123456789012345678901',
        referral_code: 'SARAH01',
        referred_by: 'ADMIN001',
        referral_level: 1,
        egd_balance: 20000.00000000,
        usdt_balance: 12000.00000000,
        total_invested: 60000.00000000,
        total_earned: 10000.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'United Kingdom',
        city: 'London',
        timezone: 'GMT',
        language: 'en',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-04'),
        updated_at: new Date()
      },
      
      // Level 2 users
      {
        email: 'mike.chen@example.com',
        password: hashedPassword,
        first_name: 'Mike',
        last_name: 'Chen',
        phone: '+1234567894',
        wallet_address: '0x3456789012345678901234567890123456789012',
        referral_code: 'MIKE001',
        referred_by: 'JOHN001',
        referral_level: 2,
        egd_balance: 15000.00000000,
        usdt_balance: 8000.00000000,
        total_invested: 45000.00000000,
        total_earned: 7000.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Australia',
        city: 'Sydney',
        timezone: 'AEST',
        language: 'en',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-05'),
        updated_at: new Date()
      },
      {
        email: 'emma.rodriguez@example.com',
        password: hashedPassword,
        first_name: 'Emma',
        last_name: 'Rodriguez',
        phone: '+1234567895',
        wallet_address: '0x4567890123456789012345678901234567890123',
        referral_code: 'EMMA001',
        referred_by: 'SARAH01',
        referral_level: 2,
        egd_balance: 12000.00000000,
        usdt_balance: 6000.00000000,
        total_invested: 35000.00000000,
        total_earned: 5500.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Spain',
        city: 'Madrid',
        timezone: 'CET',
        language: 'es',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-06'),
        updated_at: new Date()
      },
      
      // Level 3 users
      {
        email: 'david.kim@example.com',
        password: hashedPassword,
        first_name: 'David',
        last_name: 'Kim',
        phone: '+1234567896',
        wallet_address: '0x5678901234567890123456789012345678901234',
        referral_code: 'DAVID01',
        referred_by: 'MIKE001',
        referral_level: 3,
        egd_balance: 8000.00000000,
        usdt_balance: 4000.00000000,
        total_invested: 25000.00000000,
        total_earned: 4000.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'South Korea',
        city: 'Seoul',
        timezone: 'KST',
        language: 'ko',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-07'),
        updated_at: new Date()
      },
      {
        email: 'lisa.thompson@example.com',
        password: hashedPassword,
        first_name: 'Lisa',
        last_name: 'Thompson',
        phone: '+1234567897',
        wallet_address: '0x6789012345678901234567890123456789012345',
        referral_code: 'LISA001',
        referred_by: 'EMMA001',
        referral_level: 3,
        egd_balance: 6000.00000000,
        usdt_balance: 3000.00000000,
        total_invested: 20000.00000000,
        total_earned: 3000.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Germany',
        city: 'Berlin',
        timezone: 'CET',
        language: 'de',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-08'),
        updated_at: new Date()
      },
      
      // Level 4 users
      {
        email: 'alex.martinez@example.com',
        password: hashedPassword,
        first_name: 'Alex',
        last_name: 'Martinez',
        phone: '+1234567898',
        wallet_address: '0x7890123456789012345678901234567890123456',
        referral_code: 'ALEX001',
        referred_by: 'DAVID01',
        referral_level: 4,
        egd_balance: 4000.00000000,
        usdt_balance: 2000.00000000,
        total_invested: 15000.00000000,
        total_earned: 2500.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Mexico',
        city: 'Mexico City',
        timezone: 'CST',
        language: 'es',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-09'),
        updated_at: new Date()
      },
      {
        email: 'sophie.brown@example.com',
        password: hashedPassword,
        first_name: 'Sophie',
        last_name: 'Brown',
        phone: '+1234567899',
        wallet_address: '0x8901234567890123456789012345678901234567',
        referral_code: 'SOPHIE1',
        referred_by: 'LISA001',
        referral_level: 4,
        egd_balance: 3000.00000000,
        usdt_balance: 1500.00000000,
        total_invested: 12000.00000000,
        total_earned: 2000.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'France',
        city: 'Paris',
        timezone: 'CET',
        language: 'fr',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-10'),
        updated_at: new Date()
      },
      
      // Level 5 users
      {
        email: 'james.lee@example.com',
        password: hashedPassword,
        first_name: 'James',
        last_name: 'Lee',
        phone: '+1234567900',
        wallet_address: '0x9012345678901234567890123456789012345678',
        referral_code: 'JAMES01',
        referred_by: 'ALEX001',
        referral_level: 5,
        egd_balance: 2000.00000000,
        usdt_balance: 1000.00000000,
        total_invested: 8000.00000000,
        total_earned: 1500.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Japan',
        city: 'Tokyo',
        timezone: 'JST',
        language: 'ja',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-11'),
        updated_at: new Date()
      },
      {
        email: 'anna.garcia@example.com',
        password: hashedPassword,
        first_name: 'Anna',
        last_name: 'Garcia',
        phone: '+1234567901',
        wallet_address: '0x0123456789012345678901234567890123456789',
        referral_code: 'ANNA001',
        referred_by: 'SOPHIE1',
        referral_level: 5,
        egd_balance: 1500.00000000,
        usdt_balance: 750.00000000,
        total_invested: 6000.00000000,
        total_earned: 1000.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Italy',
        city: 'Rome',
        timezone: 'CET',
        language: 'it',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-12'),
        updated_at: new Date()
      },
      
      // Regular users (no referrals)
      {
        email: 'robert.smith@example.com',
        password: hashedPassword,
        first_name: 'Robert',
        last_name: 'Smith',
        phone: '+1234567902',
        wallet_address: '0x123456789abcdef123456789abcdef123456789a',
        referral_code: 'ROBERT1',
        referred_by: null,
        referral_level: 0,
        egd_balance: 5000.00000000,
        usdt_balance: 2500.00000000,
        total_invested: 30000.00000000,
        total_earned: 4500.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'United States',
        city: 'Chicago',
        timezone: 'CST',
        language: 'en',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-13'),
        updated_at: new Date()
      },
      {
        email: 'maria.silva@example.com',
        password: hashedPassword,
        first_name: 'Maria',
        last_name: 'Silva',
        phone: '+1234567903',
        wallet_address: '0xabcdef123456789abcdef123456789abcdef1234',
        referral_code: 'MARIA01',
        referred_by: null,
        referral_level: 0,
        egd_balance: 3500.00000000,
        usdt_balance: 1800.00000000,
        total_invested: 22000.00000000,
        total_earned: 3200.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Brazil',
        city: 'São Paulo',
        timezone: 'BRT',
        language: 'pt',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-14'),
        updated_at: new Date()
      },
      
      // Users with different statuses
      {
        email: 'peter.jones@example.com',
        password: hashedPassword,
        first_name: 'Peter',
        last_name: 'Jones',
        phone: '+1234567904',
        wallet_address: '0xfedcba9876543210fedcba9876543210fedcba98',
        referral_code: 'PETER01',
        referred_by: null,
        referral_level: 0,
        egd_balance: 1000.00000000,
        usdt_balance: 500.00000000,
        total_invested: 5000.00000000,
        total_earned: 800.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: false,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Netherlands',
        city: 'Amsterdam',
        timezone: 'CET',
        language: 'en',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-15'),
        updated_at: new Date()
      },
      {
        email: 'julia.wang@example.com',
        password: hashedPassword,
        first_name: 'Julia',
        last_name: 'Wang',
        phone: '+1234567905',
        wallet_address: '0x9876543210fedcba9876543210fedcba98765432',
        referral_code: 'JULIA01',
        referred_by: null,
        referral_level: 0,
        egd_balance: 0.00000000,
        usdt_balance: 0.00000000,
        total_invested: 0.00000000,
        total_earned: 0.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: true,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: false,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'China',
        city: 'Shanghai',
        timezone: 'CST',
        language: 'zh',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-16'),
        updated_at: new Date()
      },
      
      // New users (recent registrations)
      {
        email: 'thomas.anderson@example.com',
        password: hashedPassword,
        first_name: 'Thomas',
        last_name: 'Anderson',
        phone: '+1234567906',
        wallet_address: null,
        referral_code: 'THOMAS1',
        referred_by: 'JOHN001',
        referral_level: 1,
        egd_balance: 0.00000000,
        usdt_balance: 0.00000000,
        total_invested: 0.00000000,
        total_earned: 0.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: false,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'United States',
        city: 'San Francisco',
        timezone: 'PST',
        language: 'en',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-20'),
        updated_at: new Date()
      },
      {
        email: 'nina.petrov@example.com',
        password: hashedPassword,
        first_name: 'Nina',
        last_name: 'Petrov',
        phone: '+1234567907',
        wallet_address: null,
        referral_code: 'NINA001',
        referred_by: 'SARAH01',
        referral_level: 1,
        egd_balance: 0.00000000,
        usdt_balance: 0.00000000,
        total_invested: 0.00000000,
        total_earned: 0.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: false,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Russia',
        city: 'Moscow',
        timezone: 'MSK',
        language: 'en',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-21'),
        updated_at: new Date()
      },
      {
        email: 'carlos.mendez@example.com',
        password: hashedPassword,
        first_name: 'Carlos',
        last_name: 'Mendez',
        phone: '+1234567908',
        wallet_address: null,
        referral_code: 'CARLOS1',
        referred_by: 'MIKE001',
        referral_level: 2,
        egd_balance: 0.00000000,
        usdt_balance: 0.00000000,
        total_invested: 0.00000000,
        total_earned: 0.00000000,
        total_withdrawn: 0.00000000,
        is_email_verified: false,
        email_verification_token: null,
        email_verification_expires: null,
        reset_password_token: null,
        reset_password_expires: null,
        is_active: true,
        is_admin: false,
        last_login: new Date('2024-01-20'),
        profile_image: null,
        country: 'Argentina',
        city: 'Buenos Aires',
        timezone: 'ART',
        language: 'es',
        two_factor_enabled: false,
        two_factor_secret: null,
        created_at: new Date('2024-01-22'),
        updated_at: new Date()
      }
    ];

    await queryInterface.bulkInsert('users', users, {});
    
    console.log('✅ Demo users created successfully!');
    console.log('📊 Created 20 users with realistic data');
    console.log('🔗 Referral relationships established');
    console.log('🌍 Users from 15+ countries');
    console.log('💰 Various balance levels for testing');
  },

  down: async (queryInterface, Sequelize) => {
    await queryInterface.bulkDelete('users', null, {});
  }
}; 